<!DOCTYPE html>
<html>
<head>
    <title>Test Footer Save</title>
    <script src="/assets/js/api-helper.js"></script>
</head>
<body>
    <h1>Test Footer Save</h1>
    <button onclick="testSave()">Salvar Footer de Teste</button>
    <button onclick="testLoad()">Carregar Dados</button>
    <pre id="result"></pre>

    <script>
        async function testSave() {
            const testData = {
                footer: {
                    socialMedia: {
                        instagram: 'https://instagram.com/teste',
                        facebook: 'https://facebook.com/teste',
                        linkedin: '',
                        tiktok: '',
                        youtube: '',
                        email: 'teste@cliquezoom.com.br'
                    },
                    quickLinks: [
                        { label: 'Teste 1', url: '#teste1' },
                        { label: 'Teste 2', url: '#teste2' }
                    ],
                    newsletter: {
                        enabled: true,
                        title: 'Newsletter Teste',
                        description: 'Descrição teste'
                    },
                    copyright: '© 2026 TESTE FOOTER'
                }
            };

            try {
                console.log('Enviando:', testData);
                const result = await fetch('/api/site-data', {
                    method: 'PUT',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(testData)
                });
                const data = await result.json();
                document.getElementById('result').textContent = 'SALVO:\n' + JSON.stringify(data, null, 2);
            } catch (e) {
                document.getElementById('result').textContent = 'ERRO: ' + e.message;
            }
        }

        async function testLoad() {
            try {
                const result = await fetch('/api/site-data');
                const data = await result.json();
                document.getElementById('result').textContent = 'CARREGADO:\n' + JSON.stringify(data.footer, null, 2);
            } catch (e) {
                document.getElementById('result').textContent = 'ERRO: ' + e.message;
            }
        }
    </script>
</body>
</html>
